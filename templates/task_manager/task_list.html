{% extends "base.html" %}
{% load crispy_forms_filters %}
{% block content %}
    <h1>
      Task List
      <a href="" class="btn btn-primary link-to-page float-right">
        Create
      </a>
    </h1>
  {% block search_form %}
  {% include "includes/search_form.html" %}
  {% endblock %}
    {% if task_list %}
    <table class="table table-hover">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Deadline</th>
      <th>Task type</th>
      <th>Priority</th>
    </tr>
    {% for task in task_list %}
      {% if task.priority == 1 %}
        <tr class="table-danger" onclick="window.location='{{ task.get_absolute_url }}'">
          <td>{{ task.id }}</td>
          <td>{{ task.name }}</td>
          <td>{{ task.deadline | date:"d M Y" }}</td>
          <td>{{ task.task_type }}</td>
          <td>{{ task.get_priority_display }}</td>
        </tr>
      {% elif task.priority == 2 %}
        <tr class="table-warning" onclick="window.location='{{ task.get_absolute_url }}'">
          <td>{{ task.id }}</td>
          <td>{{ task.name }}</td>
          <td>{{ task.deadline | date:"d M Y" }}</td>
          <td>{{ task.task_type }}</td>
          <td>{{ task.get_priority_display }}</td>
        </tr>
      {% elif  task.priority == 3 %}
        <tr class="table-info" onclick="window.location='{{ task.get_absolute_url }}'">
          <td>{{ task.id }}</td>
          <td>{{ task.name }}</td>
          <td>{{ task.deadline | date:"d M Y" }}</td>
          <td>{{ task.task_type }}</td>
          <td>{{ task.get_priority_display }}</td>
        </tr>
      {% elif  task.priority == 4 %}
        <tr class="table-secondary" onclick="window.location='{{ task.get_absolute_url }}'">
          <td>{{ task.id }}</td>
          <td>{{ task.name }}</td>
          <td>{{ task.deadline | date:"d M Y" }}</td>
          <td>{{ task.task_type }}</td>
          <td>{{ task.get_priority_display }}</td>
        </tr>
    {% endif %}
    {% endfor %}
  </table>
{% else %}
  <p>There are no tasks.</p>
{% endif %}
{% endblock %}
